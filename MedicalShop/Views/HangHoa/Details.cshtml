@model MedicalShop.Models.Entities.HangHoa

@{
  ViewData["Title"] = "Chi tiết hàng hóa";
  Layout = "~/Views/Shared/_LayoutNV.cshtml";

  MedicalShopContext context = new MedicalShopContext();

  NhomHangHoa getNHH(int? id)
  {
    NhomHangHoa nhh = context.NhomHangHoa.Find(id);
    if (nhh != null) return nhh;
    else return new NhomHangHoa();
  }

  ChiNhanh getCN(int? id)
  {
    ChiNhanh cn = context.ChiNhanh.Find(id);
    if (cn != null) return cn;
    else return new ChiNhanh();
  }

  Hsx getHSX(int? id)
  {
    Hsx hsx = context.Hsx.Find(id);
    if (hsx != null) return hsx;
    else return new Hsx();
  }

  Nsx getNSX(int? id)
  {
    Nsx nsx = context.Nsx.Find(id);
    if (nsx != null) return nsx;
    else return new Nsx();
  }

  Dvt getDVT(int? id)
  {
    Dvt dvt = context.Dvt.Find(id);
    if (dvt != null) return dvt;
    else return new Dvt();
  }

  NhanVien getNV(int? id)
  {
    NhanVien nv = context.NhanVien.FirstOrDefault(x => x.Id == id);
    if (nv != null) return nv;
    else return new NhanVien();
  }

}

<div class="row" style=" margin-bottom: 70px;">
  <div class="col-xl-4">

    <div class="card">
      <div class=" profile-card d-flex flex-column align-items-center" id="main-image">
        <img src="~/lib/imagesHH/@Model.Image" alt="@Model.Image" max-height="400" width="400" style=" width: 85%;">
      </div>
      @* MOOIX ANH MOT DIV *@
      <div class=" profile-card d-flex align-items-center side-picture slide-image active" role="button" data-target="side-1">
        <img src="~/lib/imagesHH/@Model.Image" alt="@Model.Image" max-height="100" width="100" style=" width: 33%;">
        <img src="~/lib/imagesHH/Stilux60.png" alt="@Model.Image" max-height="100" width="100" style=" width: 33%;">
        <img src="~/lib/imagesHH/@Model.Image" alt="@Model.Image" max-height="100" width="100" style=" width: 33%;">
        @*<img src="~/lib/imagesHH/@Model.Image" alt="@Model.Image" max-height="100" width="100" style=" width: 33%;">*@
      </div>
    </div>

  </div>

  <div class="col-xl-8">

    <div class="card">
      <div class="card-body pt-3 pl-5" style="padding: 0;">
        <!-- Bordered Tabs -->
        <div class="tab-content pt-2">
          <div id="Detail">
            <dl class="row">
              <dt class="col-sm-2">
                @Html.HiddenFor(model => model.Id)
              </dt>
              <dd class="col-sm-10">
                @Html.HiddenFor(model => model.Id)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.TenHh)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.TenHh)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Idnhh)
              </dt>
              <dd class="col-sm-10">
                @getNHH(Model.Idnhh).TenNhh
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.MaHh)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.MaHh)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.BarCode)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.BarCode)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Iddvtc)
              </dt>
              <dd class="col-sm-10">
                @getDVT(Model.Iddvtc).TenDvt
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Quantity)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Quantity)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Idhsx)
              </dt>
              <dd class="col-sm-10">
                @getHSX(Model.Idhsx).TenHsx
              </dd>
              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Idnsx)
              </dt>
              <dd class="col-sm-10">
                @getNSX(Model.Idnsx).TenNsx
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Detail)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Detail)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CreatedBy)
              </dt>
              <dd class="col-sm-10">
                @getNV(Model.CreatedBy).TenNv
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CreatedDate)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CreatedDate)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ModifiedBy)
              </dt>
              <dd class="col-sm-10">
                @getNV(Model.ModifiedBy).TenNv
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ModifiedDate)
              </dt>
              <dd class="col-sm-10">
                @Html.DisplayFor(model => model.ModifiedDate)
              </dd>

              <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Idcn)
              </dt>
              <dd class="col-sm-10">
                @getCN(Model.Idcn).TenCn
              </dd>
            </dl>
          </div>
        </div>
      </div>

      <div class="forms-footer" style="justify-content: space-between; display: flex; padding: 0px 50px 20px 50px; ">
        <a asp-action="ViewUpdate" asp-route-id="@Model.Id">
          <input type="button" class="btn btn-primary" value="Chỉnh sửa">
        </a>
        <a asp-action="Table">
          <input type="button" class="btn btn-secondary" value="Quay lại">
        </a>
      </div>

    </div>
  </div>
</div>

<script>

  $(document).ready(function () {

    $('#myTab a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });

    $("#main-image").elevateZoom({
      scrollZoom: true
    });

    $('.side-picture').click(function () {
      var showing = $(this).find("img").attr("src");
      $('.side-picture').removeClass('active');
      $(this).addClass('active');
      $('#main-image').fadeOut(function () {
        $(this).attr('src', showing);
        $(this).fadeIn();
        $(this).elevateZoom({
          scrollZoom: true
        });
      });
    });
  });


</script>