@model IEnumerable<MedicalShop.Models.Entities.NhanVien>

@{
  MedicalShopContext context = new MedicalShopContext();

  var acc = User.FindFirst("VaiTro");
  int idmenu = (int)TempData.Peek("Menu");

  string vaitro = null;
  bool nhap = false, sua = false, xoa = false, print = false, xuat = false, canhan = false;
  if (acc != null)
  {
    vaitro = acc.Value;
    if (vaitro != null && vaitro != "")
    {
      ChucNang cn = context.ChucNang.FirstOrDefault(c => c.Idvt.Equals(int.Parse(vaitro)) && c.Idmenu.Equals(idmenu));
      if (cn != null)
      {
        nhap = (bool)cn.Import;
        sua = (bool)cn.Update;
        xoa = (bool)cn.Delete;
        print = (bool)cn.Print;
        xuat = (bool)cn.Export;
        canhan = (bool)cn.Person;
      }
    }
  }

}



<div id="tableNV" style="overflow-x: auto; overflow-y: hidden; width: 100%;">
  <input type="hidden" id="SL" value="9" />
  <table class="table" id="example">
    <thead>
      <tr>
        <th>
          @Html.DisplayNameFor(model => model.MaNv)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.TenNv)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.Cccd)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.Image)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.Sex)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.DateOfBirth)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.Phone)
        </th>
        <th>
          @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>Tùy chọn</th>
      </tr>
    </thead>
    <tbody>
      @foreach (NhanVien item in ViewBag.ListNV)
      {
        @if (item.Active == false)
        {
      <tr style="background-color: #0000000a; ">
        <td>
          @Html.DisplayFor(modelItem => item.MaNv)
        </td>
        <td style="max-width: 14rem;">
          @Html.DisplayFor(modelItem => item.TenNv)
        </td>
        <td style="max-width: 14rem;">
          @Html.DisplayFor(modelItem => item.Cccd)
        </td>
        <td id="imageHH" class="side-picture">
          <img src="~/lib/imagesNV/@item.Image" alt="@item.Image" height="60" width="60" style="border-radius: 5px;" id="zoom_01" class="img-fluid">
        </td>
        <td>
          @if (item.Sex == true)
          {
            <p>Nam</p>
          }
          else
          {
            <p>Nữ</p>
          }
        </td>
        <td style="max-width: 14rem; ">
          @Html.DisplayFor(modelItem => item.DateOfBirth)
        </td>
        <td style="max-width: 14rem; ">
          @Html.DisplayFor(modelItem => item.Phone)
        </td>
        <td style="max-width: 14rem; ">
          @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
          @Html.ActionLink(" ", "Details", new { id = item.Id }, new { @class = "fas fa-eye lighter" })
          @if (sua == true)
          {
            @Html.ActionLink(" ", "Restore", new { id = item.Id }, new { @class = "fas fa-reply color-black", onclick = "return confirm('Bạn muốn khôi phục đối tượng này?')" })
          }
          else
          {
            <button class=" btn p-0 disabled"><i class="fas fa-reply "></i></button>
          }
        </td>
      </tr>
        }
        else
        {
    <tr>
      <td>
        @Html.DisplayFor(modelItem => item.MaNv)
      </td>
      <td style="max-width: 14rem;">
        @Html.DisplayFor(modelItem => item.TenNv)
      </td>
      <td style="max-width: 14rem;">
        @Html.DisplayFor(modelItem => item.Cccd)
      </td>
      <td id="imageHH" class="side-picture">
        <img src="~/lib/imagesNV/@item.Image" alt="@item.Image" height="60" width="60" style="border-radius: 5px;" id="zoom_01" class="img-fluid">
      </td>
      <td>
        @if (item.Sex == true)
        {
          <p>Nam</p>
        }
        else
        {
          <p>Nữ</p>
        }
      </td>
      <td style="max-width: 14rem; ">
        @Html.DisplayFor(modelItem => item.DateOfBirth)
      </td>
      <td style="max-width: 14rem; ">
        @Html.DisplayFor(modelItem => item.Phone)
      </td>
      <td style="max-width: 14rem; ">
        @Html.DisplayFor(modelItem => item.Address)
      </td>
      <td>
        @if (sua == true)
        {
          @Html.ActionLink(" ", "ViewUpdate", new { id = item.Id }, new { @class = "far fa-edit lighter" })
        }
        else
        {
          <button class=" btn p-0 disabled"><i class="far fa-edit"></i></button>
        }
        @Html.ActionLink(" ", "Details", new { id = item.Id }, new { @class = "fas fa-eye lighter" })
        @if (xoa == true)
        {
          @Html.ActionLink(" ", "Delete", new { id = item.Id }, new { @class = "fas fa-trash-alt lighter", onclick = "return confirm('Bạn muốn xoá đối tượng này?')" })
        }
        else
        {
          <button class=" btn p-0 disabled"><i class="fas fa-trash-alt"></i></button>
        }
      </td>
    </tr>
        }
      }
    </tbody>
  </table>
</div>